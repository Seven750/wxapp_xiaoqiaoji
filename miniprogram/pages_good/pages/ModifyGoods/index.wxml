<view class='page'>
  <view class='page_body' disabled="true">
    <wux-cell-group>
            <wux-cell>
                <wux-input label="货物名称" bind:change='GetGoodName'disabled="{{status}}" value='{{GoodName}}' controlled = "true"/>
            </wux-cell>
            <view class="weui-cells weui-cells_after-title" wx:if="{{!status}}">
              <view class="weui-cell weui-cell_select">
                <view class="weui-cell__hd weui-cell__hd_in-select-after">
                    <view class="weui-label">货物单位</view>
                </view>
                <view class="weui-cell__bd">
                    <picker bindchange="pickerChange" data-model="typeIndex" value="{{ typeIndex }}" range="{{ types }}" disabled="{{status}}">
                        <view class="weui-select weui-select_in-select-after">{{ types[typeIndex] }}</view>
                    </picker>
                </view>
              </view>
            </view>
            <wux-cell>
                <wux-input label="货物单价" type='digit' bind:change="GetGoodPrice" disabled="{{status}}" value='{{GoodPrice}}' controlled = "true">
                 <view slot="footer" wx:if="{{!status}}">￥/{{ types[typeIndex] }}</view>
                 <view slot="footer" wx:if="{{status}}">￥/{{GoodUnit}}</view>
                </wux-input>
            </wux-cell>
            <wux-cell>
                <wux-textarea label="货物描述" placeholder="最多输入一百个字" maxlength="100" autoHeight="true" bind:change="GetGoodsDescription" disabled="{{status}}" value='{{GoodDescription}}' controlled = "true"/>
            </wux-cell>
            <wux-cell>
                <wux-input label="目前货物库存" type='number' bind:change="GetGoodReserve" disabled="{{status}}" value='{{GoodReserve}}' controlled = "true">
                 <view slot="footer" wx:if="{{!status}}">{{ types[typeIndex] }}</view>
                 <view slot="footer" wx:if="{{status}}">{{GoodUnit}}</view>
                </wux-input>
            </wux-cell>
            <wux-cell>
              <view class="weui-uploader">
                <view class="weui-uploader__hd">
                    <view class="weui-uploader__title">图片上传</view>
                    <view class="weui-uploader__info">{{localfiles.length}}/4</view>
                </view>
                <view class="weui-uploader__bd">
                  <block wx:for="{{localfiles}}" wx:key="*this">
                      <view class="weui-uploader__file" bindtap="Open" id="{{item}}">
                          <image class="weui-uploader__img" src="{{item}}" mode="aspectFit" />
                      </view>
                  </block>
                  <view wx:if="{{localfiles.length<4&&!status}}" class="weui-uploader__files" >
                    <view class="weui-uploader__input-box">
                        <view class="weui-uploader__input" bindtap="chooseImage"></view>
                    </view>
                  </view>
                </view>
              </view>
            </wux-cell>
      </wux-cell-group>
  </view>
  <view class='footer_tabbar'>
      <i-button bind:click="onModify" type="info" shape="circle" size="small" wx:if="{{status}}">修改</i-button>
      <i-button bind:click="onchangegood" type="info" shape="circle" size="small" wx:if="{{!status}}" disabled='{{savestatus}}'>保存</i-button>
      <i-button bind:click="deleteGood" type="ghost" shape="circle" size="small" disabled='{{savestatus}}'>删除</i-button>
  </view>
</view>

